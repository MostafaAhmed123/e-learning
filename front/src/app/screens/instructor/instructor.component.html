<div class="container px-5 py-2 mx-auto flex items-center justify-end">
  <button (click)="openForm()" class="create-button">
    Create
  </button>
</div>


<div *ngIf="isFormOpen" class="form-container">
  <div [formGroup]="form">  
  <form  (ngSubmit)="onSubmit()" class="space-y-4">
    <!-- Course Title -->
    <div class="input-container">
      <label for="title"  >Course Title:</label>
      <input type="text" id="title" formControlName="title" [(ngModel)]="name">
    </div>
  
    <div class="input-container">
    <label for="duration">Duration:</label>
    <input type="text" id="duration" name="duration" [(ngModel)]="duration" required>
      </div>
      <div class="input-container">
    <label for="category">Category:</label>
    <input type="text" id="category" name="category" [(ngModel)]="category" required>
      </div>
      <div class="input-container">
    <label for="rating">Rating:</label>
    <input type="number" id="rating" name="rating"min="0" [(ngModel)]="rating" required>
      </div>
      <div class="input-container">
    <label for="capacity">Capacity:</label>
    <input type="number" id="capacity" name="capacity" min="0" [(ngModel)]="capacity" required>
      </div>
      <div class="input-container">
    <label for="enrolledStudents">Enrolled Students:</label>
    <input type="number" id="enrolledStudents" name="enrolledStudents"min="0" [(ngModel)]="enrolledStudents" required><br>
      </div>
      <div class="input-container">
    <label for="review">Add Review:</label>
    <input type="text" id="review" name="review" #reviewInput>
    <button type="button" (click)="addReview(reviewInput.value); reviewInput.value=''">Add</button>
      </div>
      <div class="input-container">
    <ul *ngIf="reviews.length">
      <li *ngFor="let review of reviews">{{ review }}</li>
    </ul>
    </div>
    
    <div>
      <label for="category" class="block text-sm font-medium text-gray-700">Course Category</label>
      <select id="category" formControlName="category" class="form-select">
        <option value="angular">Angular</option>
        <option value="react">React</option>
        <option value="typescript">TypeScript</option>
      </select>
    </div>
  
    <!-- Submit Button -->
    <div class="text-right">
      <button type="submit" [disabled]="!courseForm.valid" class="form-button">
        Create Course
      </button>
    </div>
  </form>
</div>
</div>
  
<div class="container2">
  <div class="row">
    <div class="search-course">
      <input type="text" name="search" [(ngModel)]="searchText" placeholder="Search by name or category">
    </div>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Id</th>
          <th>Name</th>
          <th>Category</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let course of courses | filter: searchText" (click)="showDetails(course.id)">
          <td>{{ course.id }}</td>
          <td>{{ course.name }}</td>
          <td>{{ course.category }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="card" *ngIf="selectedCourse">
  <div class="card-header">
    Course Details
  </div>
  <div class="card-body">
    <h5 class="card-title">{{ selectedCourse.name }}</h5>
    <p class="card-text">Category: {{ selectedCourse.category }}</p>
    <p class="card-text">Duration: {{ selectedCourse.Duration }}</p>
    <p class="card-text">Rating: {{ selectedCourse.Rating }}</p>
    <p class="card-text">Capacity: {{ selectedCourse.Capacity }}</p>
    <p class="card-text">EnrolledStudents: {{ selectedCourse.EnrolledStudents }}</p>
  </div>
</div>




<div class="container3">
  <h1>Student Enrollments</h1>
  <div class="enrollment" *ngFor="let enrollment of enrollments">
    <div class="student-info">
      <h2>{{ enrollment.Sname }}</h2>
      <p>Email: {{ enrollment.email }}</p>
      <p>Course: {{ enrollment.course }}</p>
    </div>
    <div class="actions">
      <button (click)="acceptEnrollment(enrollment)" class="accept">Accept</button>
      <button (click)="rejectEnrollment(enrollment)" class="reject">Reject</button>
    </div>
  </div>
</div>
